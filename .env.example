# Cornelis Agent Pipeline - Environment Configuration
# Copy this file to .env and fill in your credentials
# NEVER commit .env to version control

# ============================================================================
# Jira API Credentials
# ============================================================================

# Your Cornelis Networks email address
JIRA_EMAIL=your.email@cornelisnetworks.com

# Your Jira API token
# Generate at: https://id.atlassian.com/manage-profile/security/api-tokens
JIRA_API_TOKEN=your_api_token_here

# Jira instance URL (default: Cornelis Networks)
JIRA_URL=https://cornelisnetworks.atlassian.net

# ============================================================================
# Cornelis Internal LLM Configuration
# ============================================================================

# Base URL for the internal LLM API (OpenAI-compatible)
# See: https://cornelisnetworks.atlassian.net/wiki/spaces/ASICENG/pages/98631685/Setting+up+Coding+Agents
CORNELIS_LLM_BASE_URL=http://internal-llm.cornelis.com/v1

# API key for internal LLM authentication
CORNELIS_LLM_API_KEY=your_internal_api_key

# Default model to use on internal LLM
CORNELIS_LLM_MODEL=cornelis-default

# ============================================================================
# External LLM Configuration (Fallback/Vision)
# ============================================================================

# OpenAI API key (for GPT-4, GPT-4o, etc.)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_key

# Anthropic API key (for Claude models)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key

# ============================================================================
# LLM Provider Selection
# ============================================================================

# Default LLM provider: cornelis, openai, anthropic
DEFAULT_LLM_PROVIDER=cornelis

# Provider for vision/image analysis tasks
# Use external if internal doesn't support vision
VISION_LLM_PROVIDER=cornelis

# Enable fallback to external LLM if primary fails
FALLBACK_ENABLED=true

# ============================================================================
# Agent Configuration
# ============================================================================

# Log level for agent operations: DEBUG, INFO, WARNING, ERROR
AGENT_LOG_LEVEL=INFO

# Maximum iterations for agent tool-use loops
AGENT_MAX_ITERATIONS=50

# Timeout for agent operations in seconds
AGENT_TIMEOUT_SECONDS=300

# ============================================================================
# Cornelis MCP Server
# ============================================================================

# MCP server URL (Streamable HTTP transport)
CORNELIS_MCP_URL=http://cn-ai-01.cornelisnetworks.com:50700/mcp

# MCP API key (bearer token) â€” typically your Cornelis email
CORNELIS_AI_API_KEY=your.name@cornelisnetworks.com

# MCP request timeout in seconds
CORNELIS_MCP_TIMEOUT=60

# Enable/disable MCP integration
CORNELIS_MCP_ENABLED=true

# ============================================================================
# Web Search (fallback when MCP has no search tool)
# ============================================================================

# Brave Search API key (optional)
# Get from: https://brave.com/search/api/
BRAVE_SEARCH_API_KEY=

# Tavily Search API key (optional)
# Get from: https://tavily.com/
TAVILY_API_KEY=

# ============================================================================
# Feature Planning Configuration
# ============================================================================

# Maximum number of web search queries per research phase
FEATURE_PLANNING_MAX_RESEARCH_QUERIES=20

# Minimum confidence level to include in Jira plan: high, medium, low
FEATURE_PLANNING_CONFIDENCE_THRESHOLD=medium

# ============================================================================
# State Persistence
# ============================================================================

# Enable session state persistence
STATE_PERSISTENCE_ENABLED=true

# Directory for session storage
STATE_PERSISTENCE_PATH=./data/sessions

# Persistence format: json, sqlite, both
STATE_PERSISTENCE_FORMAT=json

# ============================================================================
# Logging
# ============================================================================

# Log file path
LOG_FILE=cornelis_agent.log

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=DEBUG
